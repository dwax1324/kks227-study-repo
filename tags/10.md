## 10. ê¹Šì´ ìš°ì„  íƒìƒ‰(Depth-First Search) 

https://blog.naver.com/kks227/220785731077


### ì´ë¡ 
```

ê·¸ë˜í”„ëŠ” ì •ì (vertex)ì™€ ê°„ì„ (edge)ë“¤ì˜ ì§‘í•©ì´ë‹¤.

ì •ì ì˜ ì§‘í•©ì„ Vë¼ê³  í‘œí˜„í•œë‹¤.
ê°„ì„ ì˜ ì§‘í•©ì„ Eë¼ê³  í‘œí˜„í•œë‹¤.

ì˜ˆë¥¼ ë“¤ì–´ 
V = {1,2,3,4,5,6} ëŠ” ì •ì ì˜ ì§‘í•©ì´ê³ 
E = {(1,2) , (1,5), (4,5)} ëŠ” ê°„ì„ ì˜ ì§‘í•©ì´ë‹¤.

V,EëŠ” ì§‘í•©ì´ë¯€ë¡œ |V|,|E|ë¥¼ í†µí•´ ê·¸ í¬ê¸°ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤.

ìœ„ì˜ ì˜ˆì—ì„œ |V|ëŠ” 5ì´ê³  |E|ëŠ” 3ì´ë‹¤.


ê° ì •ì ë§ˆë‹¤ ì°¨ìˆ˜(degree)ê°€ ì¡´ì¬í•œë‹¤.
ì´ëŠ” ê·¸ ì •ì ê³¼ ì´ì–´ì§„ ê°„ì„ ì˜ ê°¯ìˆ˜ë¥¼ ë§í•œë‹¤.

ì •ì ì€ ë…¸ë“œ(node)ë¼ê³ ë„ ë¶ˆë¦°ë‹¤.

ê°€ì¥ ë¨¼ì €, ê·¸ë˜í”„ëŠ” ë¬´ë°©í–¥ê·¸ë˜í”„(undirected graphh)ì™€ ë°©í–¥ê·¸ë˜í”„(directed graph)ë¡œ ë‚˜ë‰œë‹¤.

ë¬´ë°©í–¥ê·¸ë˜í”„ëŠ” ê°„ì„ ì˜ ë°©í–¥ì´ ì—†ìŒì„ ì˜ë¯¸í•˜ê³ 
ë°©í–¥ê·¸ë˜í”„ëŠ” ê°„ì„ ì˜ ë°©í–¥ì´ ìˆìŒì„ ì˜ë¯¸í•œë‹¤.

ì¸ì ‘í•œë‹¤(adjacent)ëŠ” ì •ì  Aì—ì„œ ê°„ì„ í•˜ë‚˜ë¥¼ ê±°ì³ ì •ì  Bë¡œ ê°ˆ ìˆ˜ ìˆì„ ë•Œ Aì™€ BëŠ” ì¸ì ‘í•œë‹¤ë¼ê³  ë§í•œë‹¤.

ë¬´ë°©í–¥ê·¸ë˜í”„ì—ì„œëŠ” A,Bê°€ ì¸ì ‘í•˜ë©´ B,Aë˜í•œ ì¸ì ‘í•œë‹¤.


ë°©í–¥ê·¸ë˜í”„ì—ì„œë„ ë¬´ë°©í–¥ê·¸ë˜í”„ì²˜ëŸ¼ ì–‘ë°©í•­ì„ ê°€ì§€ëŠ” ê°„ì„ ì´ ì¡´ì¬í•  ìˆ˜ ìˆëŠ”ë° ì´ ë•ŒëŠ” ì–‘ìª½ë°©í–¥ì„ ë‚˜ëˆ„ì–´ì„œ 2ê°œì˜ ê°„ì„ ìœ¼ë¡œ í‘œí˜„í•œë‹¤.


ë°©í–¥ê·¸ë˜í”„ëŠ” ì°¨ìˆ˜ë¥¼ ì–‘ë¶„í•  ìˆ˜ ìˆë‹¤. indegreeëŠ” ë“¤ì–´ì˜¤ëŠ” ê°„ì„ ì˜ ìˆ˜, outdegreeëŠ” ë‚˜ê°€ëŠ” ê°„ì„ ì˜ ìˆ˜ì´ë‹¤.

ë°©í–¥ ê·¸ë˜í”„ì—ì„œ ë§ì´ ì‚¬ìš©ë˜ëŠ” ê°œë… ì¤‘ ì‹¸ì´í´(cycle)ì´ë¼ëŠ”ê²Œ ìˆë‹¤.  ê°„ì„œì„ ë”°ë¼ê°€ë‹¤ ë³´ë‹ˆ ì‹œì‘ì •ì ìœ¼ë¡œ ëŒì•„ìœ¼ëŠ” ê²½ë¡œë¥¼ ì‹¸ì´í´ì´ë¼ í•œë‹¤. ì˜ˆë¥¼ë“¤ì–´ 1->2->3->1 ì€ ì‹¸ì´í´ì´ë‹¤.

ê°€ì¤‘ì¹˜ ê·¸ë˜í”„(weighted graph)ëŠ” ê°„ì„ ë“¤ì— ê°€ì¤‘ì¹˜ê°€ ìˆëŠ” ê·¸ë˜í”„ë‹¤. ì´ëŠ” ë¹„ìš©(weight), ê±°ë¦¬(distance),ëŒ€ì—­í­(bandwidth)... ì„ ì˜ë¯¸í•œë‹¤.

ë°©í–¥ì„±ì„ ê°€ì§€ë©´ì„œ ê°€ì¤‘ì¹˜ ê·¸ë˜í”„ì¼ ìˆ˜ ìˆë‹¤.

ë©€í‹°ê·¸ë˜í”„(multigraph)ëŠ” ë˜‘ê°™ì€ ì •ì  ìŒ(A,B) ì‚¬ì´ì— ê°„ì„ ì´ ì—¬ëŸ¬ê°œì¼ ìˆ˜ë„ ìˆëŠ” ê·¸ë˜í”„ë¥¼ ë§í•œë‹¤. ì´ ë•Œë¬¸ì—
(A,A)ê°™ì€ ê°„ì„ ë„ ì¡´ì¬í•œë‹¤.

ì´ì œ ê·¸ë˜í”„ì˜ ê¸°ë³¸ê°œë…ì„ ì•Œì•˜ìœ¼ë‹ˆ ìˆœíšŒë¥¼ í•´ë³´ì.

DFSì˜ ê²½ìš° í•œ ìš°ë¬¼ë§Œ ê¹Šê²Œ íŒŒë‹¤ê°€ ë§‰íˆë©´ ê·¸ì œì„œì•¼ ëŒì•„ê°€ì„œ ë‹¤ë¥¸ ìš°ë¬¼ì„ íŒŒëŠ” ì„±í–¥ì´ ìˆë‹¤.

ë§Œì•½ ì–´ë–¤ ì •ì ì—ì„œ ë”ì´ìƒ ë°©ë¬¸í•  ë…¸ë“œê°€ ì—†ë‹¤ë©´ ìì‹ ì„ ë¶ˆë €ë˜ ì •ì ìœ¼ë¡œ ëŒì•„ê°„ë‹¤.
ì´ë¥¼ êµ¬í˜„í•˜ë ¤ë©´ ë°©ë¬¸í•˜ëŠ” ìˆœì„œëŒ€ë¡œ ìŠ¤íƒì— ìŒ“ê³ , ë°©ë¬¸ì´ ëë‚˜ë©´ ìŠ¤íƒì—ì„œ popí•˜ëŠ” í˜•íƒœë¡œ í•´ì•¼í•œë‹¤.
ì¬ê·€í•¨ìˆ˜ ë˜í•œ ìŠ¤íƒë©”ëª¨ë¦¬ ê³µê°„ì— ìŒ“ì•„ì˜¬ë ¤ì§€ëŠ” êµ¬ì¡°ë¥¼ ë³´ì´ê¸° ë•Œë¬¸ì—, ì¬ê·€í•¨ìˆ˜ë¡œë„ êµ¬í˜„ì´ ê°€ëŠ¥í•˜ë‹¤.


ì—°ê²°ìš”ì†Œ(component)ë¼ëŠ”ê²Œ ìˆê³  ì»´í¬ë„ŒíŠ¸ë¼ê³  ì½ëŠ”ë‹¤.
ì»´í¬ë„ŒíŠ¸ í•˜ë‚˜ ì•ˆì— ì†í•œ ì •ì ì€ ëª¨ë‘ ì´ì–´ì ¸ìˆìœ¼ë©°, ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ì™€ëŠ” ì´ì–´ì ¸ìˆì§€ ì•Šë‹¤. ë˜í•œ ì»´í¬ë„ŒíŠ¸ì˜ í¬ê¸°ëŠ” í•­ìƒ ìµœëŒ€ì—¬ì•¼ë§Œ í•œë‹¤.

ì—°ê²°ê·¸ë˜í”„(connected graph)ëŠ” ê·¸ë˜í”„ì˜ ì»´í¬ë„ŒíŠ¸ê°€ ë‹¨ í•˜ë‚˜ì¸ ê²½ìš°ë‹¤. ì¦‰ ëª¨ë“  ì •ì ë“¤ì´ ì—°ê²°ë˜ì–´ìˆëŠ” ê²½ìš°ë‹¤.


DFSëŠ” ì‹œì‘ì ì´ ì†í•œ ì»´í¬ë„ŒíŠ¸ì˜ ì •ì ë“¤ë§Œ ë°©ë¬¸í•œë‹¤.
ë”°ë¼ì„œ ëª¨ë“  ì •ì ì„ ë°©ë¬¸í•˜ë ¤ë©´ ê° ì»´í¬ë„ŒíŠ¸ì— ì†í•œ ì •ì ë“¤ ì¤‘ í•˜ë‚˜ì”©ì€ ë°©ë¬¸í•´ì¤˜ì•¼í•œë‹¤.
ì´ë¥¼ êµ¬í˜„í•˜ëŠ” ì‰¬ìš´ë°©ë²•ì€ ë°˜ë³µë¬¸ë“¤ ëŒë©´ì„œ ë°©ë¬¸í•˜ì§€ ì•Šì€ ì •ì ì„ ë³¼ë•Œë§ˆë‹¤ DFSë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒì´ë‹¤.
ë˜í•œ, ì´ ë•Œ DFSë¥¼ í˜¸ì¶œí•˜ëŠ” íšŸìˆ˜ê°€ ì»´í¬ë„ŒíŠ¸ì˜ ê°œìˆ˜ê°€ ëœë‹¤.

ì¸ì ‘ë¦¬ìŠ¤íŠ¸ DFSì˜ ì‹œê°„ë³µì¡ë„ëŠ” ? O(|V|+|E|)
í•œ ë²ˆ ë°©ë¬¸í•œ ì •ì ì€ ë‹¤ì‹œ ë°©ë¬¸í•˜ì§€ ì•Šìœ¼ë©°, í•œ ì •ì ì—ì„œ ë‹¤ìŒ ì •ì ìœ¼ë¡œ ë°©ë¬¸í• ë•Œ ìˆœíšŒí•˜ëŠ” íšŸìˆ˜ê°€ ê·¸ ì •ì ì˜ ì°¨ìˆ˜ì™€ ê°™ê¸° ë•Œë¬¸ì´ë‹¤.

ì¸ì ‘í–‰ë ¬ DFSì˜ ì‹œê°„ë³µì¡ë„ëŠ” ? O(V^2)
ë‹¤ìŒì— ë°©ë¬¸í•  ì •ì ì„ ì°¾ì„ ë•Œ ëª¨ë“  ì •ì ì„ ìˆœíšŒí•˜ë©° ë‘˜ì´ ì´ì–´ì ¸ìˆëŠ”ì§€ë¥¼ ì²´í¬í•´ì•¼í•˜ê¸° ë•Œë¬¸.




```

***


### ë¬¸ì œ  


* [11724ë²ˆ: ì—°ê²° ìš”ì†Œì˜ ê°œìˆ˜](https://www.acmicpc.net/problem/11724)
* [1012ë²ˆ: ìœ ê¸°ë† ë°°ì¶”](https://www.acmicpc.net/problem/1012)
* [1743ë²ˆ: ìŒì‹ë¬¼ í”¼í•˜ê¸°](https://www.acmicpc.net/problem/1743)
* [2667ë²ˆ: ë‹¨ì§€ë²ˆí˜¸ë¶™ì´ê¸°](https://www.acmicpc.net/problem/2667)
* [2583ë²ˆ: ì˜ì—­ êµ¬í•˜ê¸°](https://www.acmicpc.net/problem/2583)
* [10026ë²ˆ: ì ë¡ìƒ‰ì•½](https://www.acmicpc.net/problem/10026)
* [11403ë²ˆ: ê²½ë¡œ ì°¾ê¸° (â˜…)](https://www.acmicpc.net/problem/11403)
* [2468ë²ˆ: ì•ˆì „ ì˜ì—­ (â˜…)](https://www.acmicpc.net/problem/2468)
* [10552ë²ˆ: DOM](https://www.acmicpc.net/problem/10552)
* [9466ë²ˆ: í…€ í”„ë¡œì íŠ¸](https://www.acmicpc.net/problem/9466)
* [10265ë²ˆ: MT (â˜…)](https://www.acmicpc.net/problem/10265)


***

<!-- 

***

<details>

<summary>

10265ë²ˆ: MT (â˜…)

</summary>

</details> 



-->


<details>

<summary>

#### _11724ë²ˆ: ì—°ê²° ìš”ì†Œì˜ ê°œìˆ˜_

ì „ì²´ ë…¸ë“œì— ëŒ€í•´ ë°˜ë³µë¬¸ì„ ëŒë¦¬ë©´ì„œ dfsë¥¼ ìƒˆë¡œ í˜¸ì¶œí•  ë•Œ ë§ˆë‹¤ ansë¥¼ 1ì„ ì¦ê°€ì‹œí‚¨ë‹¤(ì»´í¬ë„ŒíŠ¸ì˜ ê°¯ìˆ˜ë¥¼ ì„¼ë‹¤)

</summary>

```cpp
#include <bits/stdc++.h>
using namespace std;
#define fastio ios_base::sync_with_stdio(false), cin.tie(NULL), cout.tie(NULL)
#define debug freopen("input.txt", "r", stdin), freopen("output.txt", "w", stdout)
#define sz(x) (int)(x).size()
#define all(x) (x).begin(), (x).end()
#define rall(x) (x).rbegin(), (x).rend()
// #define int int64_t
/* â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾
    2020.01.05 Tue
    comment: 

â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾*/


int vi[1001];
int n,m;
vector<int> edges[1001];

void dfs(int cur){
    vi[cur] =true;
    for(int i = 0; i < edges[cur].size(); i++){
        int next = edges[cur][i];
        if(!vi[next]) {
            
            dfs(next);
        }
    }
}


void solve(){
    cin >> n>> m;
    for(int i=0; i < m ;i++){
        int a,b;
        cin >> a >> b;
        edges[a].push_back(b);
        edges[b].push_back(a);
    }

    int ans=0;
    for(int i=1; i <= n; i++){
        if(!vi[i]){
            dfs(i);
            ans++;
        }
    }
    cout << ans;
    

}


int32_t main() {
    int t=1;
    fastio;
    // debug;
    {
        // cin >> t; 
        for(int i=1; i <= t; i++) solve();
    }
}

```

</details> 

***

<details>

<summary>

#### _1012ë²ˆ: ìœ ê¸°ë† ë°°ì¶”_

ìœ„ ë¬¸ì œì™€ ë™ì¼í•˜ì§€ë§Œ 2ì°¨ì›ì„, ì»´í¬ë„ŒíŠ¸ ê°¯ìˆ˜ì°¾ê¸° ë¬¸ì œ

</summary>

```cpp

#include <bits/stdc++.h>
using namespace std;
#define fastio ios_base::sync_with_stdio(false), cin.tie(NULL), cout.tie(NULL)
#define debug freopen("input.txt", "r", stdin), freopen("output.txt", "w", stdout)
#define sz(x) (int)(x).size()
#define all(x) (x).begin(), (x).end()
#define rall(x) (x).rbegin(), (x).rend()
// #define int int64_t
/* â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾
    2020.01.05 Tue
    comment: 

â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾*/



struct coords{
    int y,x;
};

int map1[51][51];
int vi[51][51];

int m,n,k;

void dfs(int y, int x){
    vi[y][x] = true;
    for(int i=0; i <4; i++){
        int ny = y+ "2011"[i] -'1';
        int nx = x + "1102"[i] -'1';
        if(ny <0 || nx <0 || ny >= n || nx >= m) continue;
        if(map1[ny][nx] == 0) continue;
        if(vi[ny][nx]) continue;
        dfs(ny,nx);
    }

}


void solve(){

    int t; cin >> t; while(t--){

        memset(map1,0,sizeof(map1));
        memset(vi,0,sizeof(vi));
        cin >> m >> n >> k;
        vector<coords> v;
        for(int i=0; i < k; i++){
            int x,y;
            cin >> x >> y;
            map1[y][x] = 1;
            v.push_back({y,x});
        }
        int ans =0;
        for(int i=0; i < k; i++){
            if(!vi[v[i].y][v[i].x] && map1[v[i].y][v[i].x] == 1){
                ans++;
                dfs(v[i].y,v[i].x);
            }
        }
        cout << ans << '\n';





    }

}


int32_t main() {
    int t=1;
    fastio;
    // debug;
    {
        // cin >> t; 
        for(int i=1; i <= t; i++) solve();
    }
}


```

</details> 

***

<details>

<summary>

#### _1743ë²ˆ: ìŒì‹ë¬¼ í”¼í•˜ê¸°_

ê°€ì¥ í° ì»´í¬ë„ŒíŠ¸ì˜ í¬ê¸°ë¥¼ ë¬»ëŠ” ë¬¸ì œ


</summary>


```cpp

#include <bits/stdc++.h>
using namespace std;
#define fastio ios_base::sync_with_stdio(false), cin.tie(NULL), cout.tie(NULL)
#define debug freopen("input.txt", "r", stdin), freopen("output.txt", "w", stdout)
#define sz(x) (int)(x).size()
#define all(x) (x).begin(), (x).end()
#define rall(x) (x).rbegin(), (x).rend()
// #define int int64_t
/* â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾
    2020.01.05 Tue
    comment: 

â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾*/



struct coords{
    int y,x;
};

int map1[101][101];
int vi[101][101];

int m,n,k;

int dfs(int y, int x){
    vi[y][x] = true;
    
    int ret =1;
    for(int i=0; i <4; i++){
        int ny = y+ "2011"[i] -'1';
        int nx = x + "1102"[i] -'1';
        if(ny <1|| nx <1 || ny >= n+1 || nx >= m+1) continue;
        if(map1[ny][nx] == 0) continue;
        if(vi[ny][nx]) continue;
        ret += dfs(ny,nx);
    }
    return ret;

}


void solve(){
        memset(map1,0,sizeof(map1));
        memset(vi,0,sizeof(vi));
        cin >> n >> m >> k;
        vector<coords> v;
        for(int i=0; i < k; i++){
            int x,y;
            cin >> y >> x ;
            map1[y][x] = 1;
            v.push_back({y,x});
        }
        int ans =0;
        for(int i=0; i < k; i++){
            if(!vi[v[i].y][v[i].x] && map1[v[i].y][v[i].x] == 1){
                ans = max(ans,dfs(v[i].y,v[i].x));
            }
        }
        cout << ans << '\n';

}


int32_t main() {
    int t=1;
    fastio;
    // debug;
    {
        // cin >> t; 
        for(int i=1; i <= t; i++) solve();
    }
}


```

</details> 

***

<details>

<summary>

#### _2667ë²ˆ: ë‹¨ì§€ë²ˆí˜¸ë¶™ì´ê¸°_

ìœ„ ë¬¸ì œì™€ ë™ì¼í•˜ì§€ë§Œ, ê° ì»´í¬ë„ŒíŠ¸ì˜ í¬ê¸°ë¥¼ ì •ë ¬í•œë’¤ ì¶œë ¥í•˜ëŠ” ë¬¸ì œ

</summary>

```cpp

#include <bits/stdc++.h>
using namespace std;
#define fastio ios_base::sync_with_stdio(false), cin.tie(NULL), cout.tie(NULL)
#define debug freopen("input.txt", "r", stdin), freopen("output.txt", "w", stdout)
#define sz(x) (int)(x).size()
#define all(x) (x).begin(), (x).end()
#define rall(x) (x).rbegin(), (x).rend()
// #define int int64_t
/* â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾
    2020.01.05 Tue
    comment: 

â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾*/



struct coords{
    int y,x;
};

char map1[101][101];
int vi[101][101];

int n;


int dfs(int y, int x){
    vi[y][x] = true;
    
    int ret =1;
    for(int i=0; i <4; i++){
        int ny = y+ "2011"[i] -'1';
        int nx = x + "1102"[i] -'1';
        if(ny <0|| nx <0 || ny >= n || nx >= n) continue;
        if(map1[ny][nx] == '0') continue;
        if(vi[ny][nx]) continue;
        ret += dfs(ny,nx);
    }
    return ret;

}


void solve(){
        memset(map1,0,sizeof(map1));
        memset(vi,0,sizeof(vi));
        cin >> n;
        vector<coords> v;

        for(int i=0; i < n; i++)
            for(int j=0; j < n; j++){
                cin >> map1[i][j];
                if(map1[i][j] == '1'){
                    v.push_back({i,j});
                }
            }

        vector<int> ans;
        for(int i=0; i < v.size(); i++){
            if(!vi[v[i].y][v[i].x] && map1[v[i].y][v[i].x] == '1'){
                ans.push_back(dfs(v[i].y,v[i].x));
            }
        }
        sort(all(ans));

        cout << ans.size() << "\n";
        for(auto x : ans) cout << x << "\n";
        

}


int32_t main() {
    int t=1;
    fastio;
    // debug;
    {
        // cin >> t; 
        for(int i=1; i <= t; i++) solve();
    }
}



```

</details> 



***

<details>

<summary>

#### _2583ë²ˆ: ì˜ì—­ êµ¬í•˜ê¸°_

ì´ê²ƒë„ ê°™ì§€ë§Œ, ì¢Œí‘œí‰ë©´ì˜ ì™¼ìª½ë°‘ì¢Œí‘œì™€ ì˜¤ë¥¸ìª½ìœ„ ì¢Œí‘œê¹Œì§€ì˜ ì˜ì—­ì„ êµ¬í•˜ê³  ì»´í¬ë„ŒíŠ¸ì˜ ê°¯ìˆ˜ë¥¼ ë°˜í™˜í•´ì•¼í•œë‹¤

</summary>

```cpp

#include <bits/stdc++.h>
using namespace std;
#define fastio ios_base::sync_with_stdio(false), cin.tie(NULL), cout.tie(NULL)
#define debug freopen("input.txt", "r", stdin), freopen("output.txt", "w", stdout)
#define sz(x) (int)(x).size()
#define all(x) (x).begin(), (x).end()
#define rall(x) (x).rbegin(), (x).rend()
// #define int int64_t
/* â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾
    2020.01.05 Tue
    comment: 

â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾*/

int map1[101][101];
int vi[101][101];
int n,m,k;

int dfs(int y, int x){
    vi[y][x] = true;
    int ret= 1;
    for(int i=0; i < 4; i++){
        int ny = y +"2011"[i]-'1';
        int nx = x + "1102"[i]-'1';
        if(ny <0 || nx <0 || ny >= n || nx >= m) continue;
        if(vi[ny][nx] || map1[ny][nx] == 1) continue;
        ret += dfs(ny,nx);
    }
    return ret;
}


void solve(){
    cin >> n>>  m >> k;
    for(int i=0; i < k; i++){
        int x1,y1,x2,y2;
        cin >> x1 >> y1 >> x2 >> y2;
        y1 = n-y1;
        y2 = n-y2;


        for(int yy=y2; yy< y1; yy++){
            for(int xx= x1; xx< x2; xx++){
                map1[yy][xx] =1;
            }
        }
    }


    vector<int> ans;
    for(int i=0 ;i < n; i++){
        for(int j=0; j < m; j++){
            if(map1[i][j] == 0 && !vi[i][j]){
                ans.push_back(dfs(i,j));
            }
        }
    }

    sort(all(ans));
    cout << ans.size() << '\n';
    for(auto x :ans) cout << x << " ";

}


int32_t main() {
    int t=1;
    fastio;
    // debug;
    {
        // cin >> t; 
        for(int i=1; i <= t; i++) solve();
    }
}

```

</details> 


***

<details>

<summary>

#### _10026ë²ˆ: ì ë¡ìƒ‰ì•½_

R,G,Bì¸ ê²½ìš°ì™€ R,R,B or G,G,Bì¸ê²½ìš°ë¥¼ ì„¸ì–´ì£¼ë©´ ëœë‹¤.(ì»´í¬ë„ŒíŠ¸ ê°¯ìˆ˜ ë¬¸ì œ)
</summary>


```cpp

#include <bits/stdc++.h>
using namespace std;
#define fastio ios_base::sync_with_stdio(false), cin.tie(NULL), cout.tie(NULL)
#define debug freopen("input.txt", "r", stdin), freopen("output.txt", "w", stdout)
#define sz(x) (int)(x).size()
#define all(x) (x).begin(), (x).end()
#define rall(x) (x).rbegin(), (x).rend()
// #define int int64_t
/* â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾
    2020.01.05 Tue
    comment: 

â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾*/


char map1[101][101];
char map2[101][101];
int vi[101][101];
int n;


void dfs(int y, int x, char C, int z){
    
    vi[y][x] = true;

    for(int i=0; i <4 ;i++){
        int ny = y + "2011"[i]-'1';
        int nx = x + "1102"[i]-'1';
        if(ny <0 || nx <0 || ny >= n || nx >=n) continue;
        if(z==1){
            if(vi[ny][nx] || map1[ny][nx] != C) continue;
        }
        if(z==2){
            if(vi[ny][nx] || map2[ny][nx] != C) continue;
        }
        dfs(ny,nx,C,z);
    }


}

void solve(){

    cin >> n;
    for(int i=0; i < n; i++){
        for(int j=0; j < n; j++){
            cin >> map1[i][j];
            if(map1[i][j] == 'R') map2[i][j] = 'G';
            else if(map1[i][j] == 'G') map2[i][j] = 'G';
            else if(map1[i][j] == 'B') map2[i][j] = 'B';
        }
    }

    int ans1=0,ans2=0;
    for(int i=0; i < n; i++){
        for(int j=0; j< n; j++){
            if(!vi[i][j]){
                dfs(i,j,map1[i][j],1);
                ans1++;
            }
        }
    }
    
    memset(vi,0,sizeof(vi));

    for(int i=0; i < n; i++){
        for(int j=0; j< n; j++){
            if(!vi[i][j]){
                dfs(i,j,map2[i][j],2);
                ans2++;
            }
        }
    }
    cout << ans1 << " " << ans2;


    

}


int32_t main() {
    int t=1;
    fastio;
    // debug;
    {
        // cin >> t; 
        for(int i=1; i <= t; i++) solve();
    }
}



```


</details> 


***

<details>

<summary>

#### _11403ë²ˆ: ê²½ë¡œ ì°¾ê¸°_

dfsë¡œ ê°ì ì—ëŒ€í•´ì„œ ë„ëŠ” ë°©ì‹ìœ¼ë¡œ í–ˆëŠ”ë°
ì–´ì°Œì–´ì°Œ í’€ì—ˆê¸´ í–ˆëŠ”ë° ì •í•´ì¸ì§€ëŠ” ëª¨ë¥´ê² ê³ 
í”Œë¡œì´ë“œì™€ìƒ¬ë¡œ í’€ì–´ë„ëœë‹¤


</summary>

```cpp

#include <bits/stdc++.h>
using namespace std;
#define fastio ios_base::sync_with_stdio(false), cin.tie(NULL), cout.tie(NULL)
#define debug freopen("input.txt", "r", stdin), freopen("output.txt", "w", stdout)
#define sz(x) (int)(x).size()
#define all(x) (x).begin(), (x).end()
#define rall(x) (x).rbegin(), (x).rend()
// #define int int64_t
/* â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾
    2020.01.05 Tue
    comment: 

â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾*/


int map1[101][101];
int ans[101][101];
int n;
int vi[101];

void dfs(int cur, int next){
    for(int i=0; i < n ;i++){
        if(!vi[i] && map1[next][i]){
            vi[i] = true;
            ans[cur][i] = true;
            dfs(cur,i);
        }
    }
}


void solve(){
    cin >> n;

    for(int i=0; i < n; i++)
        for(int j=0; j < n; j++)
            cin >> map1[i][j];

    

    for(int i=0; i<n; i++){
        memset(vi,0,sizeof(vi));
        dfs(i,i);
    }


    for(int i=0; i < n; i++){
        for(int j=0; j < n; j++){
            cout << ans[i][j] << " ";
        }
        cout << '\n';
    }

    

}


int32_t main() {
    int t=1;
    fastio;
    // debug;
    {
        // cin >> t; 
        for(int i=1; i <= t; i++) solve();
    }
}


```

</details> 




***

<details>

<summary>

#### _2468ë²ˆ: ì•ˆì „ ì˜ì—­_

ìœ„ë¬¸ì œë“¤ì˜ ì‘ìš©ë¬¸ì œ, ì»´í¬ë„ŒíŠ¸ê°¯ìˆ˜ì°¾ê¸° + ì™„ì „íƒìƒ‰

</summary>


```cpp

#include <bits/stdc++.h>
using namespace std;
#define fastio ios_base::sync_with_stdio(false), cin.tie(NULL), cout.tie(NULL)
#define debug freopen("input.txt", "r", stdin), freopen("output.txt", "w", stdout)
#define sz(x) (int)(x).size()
#define all(x) (x).begin(), (x).end()
#define rall(x) (x).rbegin(), (x).rend()
// #define int int64_t
/* â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾
    2020.01.05 Tue
    comment: 

â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾*/


int map1[101][101];
int vi[101][101];
int n;

void dfs(int y, int x, int rain){

    vi[y][x] = true;

    for(int i=0 ; i< 4; i++){
        int ny = y + "1102"[i]-'1';
        int nx = x + "0211"[i]-'1';

        if(ny < 0 || nx < 0 || nx >= n || ny >= n) continue;
        if(vi[ny][nx] || map1[ny][nx] <= rain) continue;
        dfs(ny,nx,rain);
    }


}

void solve(){


    cin >> n;
    for(int i=0; i < n; i++){
        for(int j=0; j < n; j++){
            cin >> map1[i][j];
        }

    }


    int ans =0;
    for(int rain =0; rain <= 100; rain++)
    {
        memset(vi,0,sizeof(vi));
        int temp=0;

        for(int i=0; i < n; i++){
            for(int j=0; j < n ; j++){
                if(map1[i][j] >rain && !vi[i][j]){
                    dfs(i,j,rain);
                    temp++;
                }
            }
        }
        ans = max(temp,ans);
    }
    cout << ans;
    

}


int32_t main() {
    int t=1;
    fastio;
    // debug;
    {
        // cin >> t; 
        for(int i=1; i <= t; i++) solve();
    }
}


```

</details> 


***

<details>

<summary>

#### _10552ë²ˆ: DOM_ ğŸ˜¡

ì‰¬ìš´ë¬¸ì  ë° ìƒê°ë³´ë‹¤ ì–´ë ¤ì› ë˜ ë¬¸ì œ
ì–´ë–»ê²Œ ì„¤ê³„í•´ì•¼í• ì§€ë„ ì˜ ëª¨ë¥´ê² ë‹¤.

</summary>

```cpp

#include <bits/stdc++.h>
using namespace std;
#define fastio ios_base::sync_with_stdio(false), cin.tie(NULL), cout.tie(NULL)
#define debug freopen("input.txt", "r", stdin), freopen("output.txt", "w", stdout)
#define sz(x) (int)(x).size()
#define all(x) (x).begin(), (x).end()
#define rall(x) (x).rbegin(), (x).rend()
// #define int int64_t
/* â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾
    2020.01.05 Tue
    comment: 

â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾*/


int to[100001],vi[100001];


int dfs(int cur){
    vi[cur] = true;
    int next = to[cur];
    if(next == -1) return 0;
    if(vi[next]) return -1;

    int ret = dfs(next);
    return ret == -1 ? -1 : ret +1;
}


void solve(){

    int n,m,p;
    cin >> n >> m>> p;
    p--;
    memset(to,-1,sizeof(to));
    for(int i=0; i < n; i++){
        int a,b;
        cin >> a >> b;
        a--; b--;
        if(to[b] == -1) to[b] = a;
    }
    cout << dfs(p);
}


int32_t main() {
    int t=1;
    fastio;
    // debug;
    {
        // cin >> t; 
        for(int i=1; i <= t; i++) solve();
    }
}


```


</details> 









***

<details>

<summary>

#### _9466ë²ˆ: í…€ í”„ë¡œì íŠ¸_ ğŸ˜¡

ìœ ë°©í–¥ ê·¸ë˜í”„ì—ì„œ ì‹¸ì´í´ì„ ì œì™¸í•œ ê·¸ ê³ê°€ì§€ì˜ ìˆ˜ë¥¼ ì„¸ëŠ” ë¬¸ì œë‹¤.  
ê°„ì„  (u,v)ëŠ” í•™ìƒ u ê°€ í•™ìƒ vì™€ í•¨ê»˜ í•˜ê³  ì‹¶ë‹¤ëŠ” ëœ»ì´ë‹¤.  
ì´ ë¬¸ì œëŠ” ì¡°ê±´ìƒ ì •ì  í•˜ë‚˜ë‹¹ outdegreeê°€ í•˜ë‚˜ë°–ì— ì—†ê¸° ë•Œë¬¸ì—,  
ë°œìƒí•˜ëŠ” ì»´í¬ë„ŒíŠ¸ëŠ” ì—¬ëŸ¬ê°œì¼ì§€ë¼ë„ ê·¸ í˜•íƒœëŠ” í•˜ë‚˜ë‹¤.  
ê°€ì¥ ì•ˆìª½ì— í•˜ë‚˜ì˜ ì‹¸ì´í´ì´ ìˆê³ , ê·¸ ì™¸ì— ì´ ì‹¸ì´í´ ì •ì ë“¤ ì¤‘ í•˜ë‚˜ë¥¼ ê°€ë¥´í‚¤ëŠ” ê³ê°€ì§€ ì •ì ë“¤ë¡œ ì´ë£¨ì–´ì§„ ì»´í¬ë„ŒíŠ¸ì˜ í˜•íƒœë¥¼ ë¤ë‹¤.

ì´ëŸ° ë¬¸ì œì—ì„œëŠ” visitedë°°ì—´(ì •ì  ë°©ë¬¸ì„ ì‹œì‘í–ˆëŠ”ì§€) ë§ê³ ë„ finishedë°°ì—´(ê·¸ ì •ì ì˜ ë°©ë¬¸í•¨ìˆ˜ê°€ ì™„ì „íˆ ëë‚¬ëŠ”ì§€)ê°€ í•„ìš”í•˜ë‹¤.  

dfsë¥¼ í•˜ë‹¤ê°€, ì‹¸ì´í´ì´ ë°œìƒí•˜ëŠ” ì¡°ê±´ì„ ì°¾ì•„ì•¼ í•œë‹¤.  
ê·¸ ì¡°ê±´ì€ ë‹¤ìŒì— ë°©ë¬¸í•  ì •ì ì´ kì¼ ë•Œ, (visited[k] = true , finished[k] = false) ì¸ ê²½ìš°ë‹¤.  
ì´ ë§ì¸ ì¦‰ìŠ¨ ì¸ì ‘í•œ ì •ì ì€ ì´ë¯¸ ë°©ë¬¸ì€ ì‹œì‘í–ˆì§€ë§Œ ê·¸ ì •ì ì˜ DFSí•¨ìˆ˜ëŠ” ì•„ì§ ëë‚˜ì§€ ì•Šì•˜ë‹¤ëŠ” ëœ»ì´ë‹¤.  
í˜„ì¬ ì •ì ì´ pì´ê³  ë‹¤ìŒì— ë§ˆì£¼ì¹œ ì´ëŸ¬í•œ ì •ì ì´ qì´ë©´ p..qê¹Œì§€ ì†í•œ ëª¨ë“  ì •ì ì´ í•˜ë‚˜ì˜ ì‹¸ì´í´ì„ ì´ë£¨ê²Œ ëœë‹¤.


ì¦‰, ë°©ë¬¸ì€ í–ˆëŠ”ë° ëë‚˜ì§€ ì•Šì€ ë…¸ë“œê°€ ìˆë‹¤ë©´  
ê·¸ ë…¸ë“œë¶€í„° ë‹¤ì‹œ ìì‹ ì„ ë§Œë‚ ë•Œê¹Œì§€ ì¹´ìš´íŒ…í•´ì¤€ë‹¤.



</summary>

```cpp

#include <bits/stdc++.h>
using namespace std;
#define fastio ios_base::sync_with_stdio(false), cin.tie(NULL), cout.tie(NULL)
#define debug freopen("input.txt", "r", stdin), freopen("output.txt", "w", stdout)
#define sz(x) (int)(x).size()
#define all(x) (x).begin(), (x).end()
#define rall(x) (x).rbegin(), (x).rend()
// #define int int64_t
/* â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾
    2020.01.05 Tue
    comment: 
    ì²« ì‚¬ì´í´ ë””í…ì…˜ ë¬¸ì œ

â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾*/
int n, arr[100001],cntCycle;
bool visited[100001],finished[100001];

void dfs(int cur){

    visited[cur] = true;
    int next = arr[cur];
    if(visited[next]){
        if(!finished[next]){
            for(int i=next ; i!= cur ; i= arr[i]) cntCycle++;
            cntCycle++;
        }
    }else{
        dfs(next);
    }
    finished[cur] = true;
}



void solve(){

    int t; cin>> t; while(t--){
        cin >> n;
        for(int i=0; i < n; i++){
            cin >> arr[i];
            arr[i]--;
        }

        memset(visited,0,sizeof(visited));
        memset(finished,0,sizeof(finished));

        cntCycle = 0;
        for(int i=0; i < n; i++)
            if(!visited[i]) dfs(i);
        
        cout << n - cntCycle << '\n';

    }
    

}


int32_t main() {
    int t=1;
    fastio;
    // debug;
    {
        // cin >> t; 
        for(int i=1; i <= t; i++) solve();
    }
}

```

</details> 



***

<details>

<summary>

#### _10265ë²ˆ: MT_ ğŸ˜¡ğŸ˜¡

dp+dfs
ì–´ë µë‹¤..
ë‹¤ì‹œí’€ê¸°

</summary>

```cpp

#include <bits/stdc++.h>
using namespace std;
#define fastio ios_base::sync_with_stdio(false), cin.tie(NULL), cout.tie(NULL)
#define debug freopen("input.txt", "r", stdin), freopen("output.txt", "w", stdout)
#define sz(x) (int)(x).size()
#define all(x) (x).begin(), (x).end()
#define rall(x) (x).rbegin(), (x).rend()
// #define int int64_t
/* â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾
    2020.01.06 Wed
    comment: 
    dp+ ì‚¬ì´í´,ì»´í¬ë„ŒíŠ¸
    kks227 í’€ì´ì°¸ì¡°


â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾*/

int N,cnt,adj[1001],dfsn[1001];
bool finished[1001];
int SN, scc[1001], sSize[1001], sAdj[1001];
stack<int> S;
int K, DN, minW[1001], maxW[1001], dp[1001][1001];

int maxPassenger(int pos, int remain){
    if(pos == DN) return 0;
    int &ret = dp[pos][remain];
    if(ret!=-1) return ret;

    ret = maxPassenger(pos+1, remain);

    if(remain >= minW[pos]){
        for(int i=minW[pos]; i<= maxW[pos] && i<= remain; i++)
            ret =max(ret, maxPassenger(pos+1,remain-i)+i);
    }
    return ret;
}


int DFS(int cur){

    dfsn[cur] = ++cnt;
    S.push(cur);
    int ret = dfsn[cur], next =adj[cur];
    if(dfsn[next] ==0 ) ret = min(ret,DFS(next));
    else if(!finished[next]) ret = min(ret,dfsn[next]);

    if(ret >= dfsn[cur]){
        int cnt=0;
        while(1){
            int n= S.top();
            S.pop();
            cnt++;
            scc[n] = SN;
            finished[n] = true;
            if(n== cur) break;
        }
        sSize[SN++] = cnt;
    }
    return ret;

}

void pushW (int cur){

    int next = sAdj[cur];
    if(next == cur || maxW[cur] == 0) return;
    maxW[next] += maxW[cur];
    minW[cur]= maxW[cur]=0;
    pushW(next);
}

bool is0(int n) {return !n;}

void solve(){
    cin >> N >> K;
    for(int i=0; i < N; i++){
        cin >> adj[i];
        adj[i]--;
    }

    for(int i=0; i < N; i++)
        if(dfsn[i] ==0) DFS(i);
    
    for(int i=0; i< N; i++)
        sAdj[scc[i]] = scc[adj[i]];
    
    for(int i=0; i< SN; i++)
        minW[i] = maxW[i] = sSize[i];
    
    for(int i=0; i< SN; i++)
        pushW(i);
    
    DN= remove_if(minW, minW+SN, is0) - minW;
    remove_if(maxW, maxW+SN, is0);

    memset(dp,-1,sizeof(dp));
    cout << maxPassenger(0,K);
    

    

}


int32_t main() {
    int t=1;
    fastio;
    // debug;
    {
        // cin >> t; 
        for(int i=1; i <= t; i++) solve();
    }
}


```

</details> 
