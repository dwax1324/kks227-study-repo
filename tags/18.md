# ìœ ë‹ˆì˜¨ íŒŒì¸ë“œ(Union-Find)

https://blog.naver.com/kks227/220791188929

### ì´ë¡ 

```

union-find ìë£Œêµ¬ì¡°ì¸ë°, ë‹¤ë¥¸ë§ë¡œ disjoint-set êµ¬ì¡°ë¼ê³ ë„ í•œë‹¤.
ì´ëŠ” unionê³¼ findì—°ì‚°ì„ ì§€ì›í•˜ëŠ” ìë£Œêµ¬ì¡°ë‹¤.
ì´ ìë£Œêµ¬ì¡°ëŠ” í•­ìƒ ì—¬ëŸ¬ ê°œì˜ íŠ¸ë¦¬í˜•íƒœ(ìˆ²)ë¥¼ ë„ê³  ìˆìœ¼ë©°, ê·¸ íŠ¸ë¦¬ ì»´í¬ë„ŒíŠ¸ë“¤ì´ í•˜ë‚˜ì˜ ì§‘í•©ì´ë‹¤.


ë‘ ì›ì†Œê°€ ê°™ì€ ì§‘í•©ì— ìˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ë°©ë²•ì€ ë‘ ì›ì†Œì˜ ë£¨íŠ¸ê°€ ê°™ì€ì§€ ë¹„êµí•˜ë©´ëœë‹¤.
find ì—°ì‚°ì€ ì–´ë–¤ ì •ì ì˜ ë£¨íŠ¸ë¥¼ ì°¾ì•„ì¤€ë‹¤. ìì‹ ì´ ë£¨íŠ¸ë¼ë©´ ìì‹ ì„ ë¦¬í„´í•œë‹¤.

ê²½ë¡œ ì••ì¶•(path compression)ì´ë€?
ì •ì  uì—ì„œ ë£¨íŠ¸vê¹Œì§€ì˜ ê²½ë¡œê°€ ì¼ì§ì„ ì´ë¼ ë§ì€ íšŸìˆ˜ì˜ ì¬ê·€í•¨ìˆ˜ í˜¸ì¶œì´ ì´ë£¨ì–´ì§„ë‹¤.
ë”°ë¼ì„œ í•œ ë²ˆ uì˜ ë£¨íŠ¸ê°€ vì¸ê²ƒì„ ì•Œì•˜ë‹¤ë©´, uì˜ parentë¥¼ vë¼ê³  ì„¤ì •í•œë‹¤.(ë©”ëª¨ì´ì œì´ì…˜ê³¼ ë¹„ìŠ·í•˜ë‹¤)
ê·¸ë ‡ê²Œ í•˜ë©´ vê°€ ë‚˜ì¤‘ì— ë£¨íŠ¸ê°€ ì•„ë‹ˆë¼ ë‹¤ë¥¸ ëˆ„êµ¬ì˜ ìì‹ì´ ë˜ì–´ë„, vë¶€í„° ë”°ë¼ê°€ì„œ ìƒˆ ë£¨íŠ¸ë¥¼ ì°¾ìœ¼ë©´ ëœë‹¤.

ì›ë˜ í¬ê¸°ê°€ Nì¸ ìœ ë‹ˆì˜¨ íŒŒì¸ë“œ êµ¬ì¡°ì— Më²ˆ findì—°ì‚°ì„ ìˆ˜í–‰í–ˆì„ë•Œì˜ ìµœì•…ì˜ ì‹œê°„ë³µì¡ë„ëŠ” O(MN)ì´ë‹¤.
í•˜ì§€ë§Œ ê²½ë¡œë¥¼ ì••ì¶•í•œë‹¤ë©´ amortized(ìˆœê°„ìˆœê°„ì€ í•´ë‹¹ ì‹œê°„ì„ ì´ˆê³¼í•  ìˆ˜ ìˆì§€ë§Œ, ì „ì²´ì ìœ¼ë¡œ ë³´ì•˜ì„ ë•ŒëŠ” í‰ê· ì´ ì´ë ‡ê²Œ íšŒê·€í•¨)O(Mlog*N)ì´ë¼ëŠ” ì‹œê°„ë³µì¡ë„ë¥¼ ê°–ëŠ”ë‹¤. 
ë¡œê·¸ìŠ¤íƒ€ëŠ” ì•„í¬ë§Œ í•¨ìˆ˜(Ackman function)ì˜ ì—­í•¨ìˆ˜ë¡œ ë§¤ìš° ëŠë¦¬ê²Œ ì¦ê°€í•œë‹¤. ë”°ë¼ì„œ í‰ì†Œì—” ê·¸ëƒ¥ 1~2ë¼ê³  ë´ë„ ì¢‹ë‹¤. 
ê·¸ëŸ¬ë¯€ë¡œ ê²½ë¡œì••ì¶•ëœ ì‹œê°„ë³µì¡ë„ëŠ” O(M)ì´ë‹¤.



ì–´ì§¸ì„œ ì €ëŸ° ì´ìƒí•œ í˜•íƒœì˜ ì‹œê°„ë³µì¡ë„ê°€ ì–»ì–´ì§€ëŠ”ê°€ì— ëŒ€í•œ ì¦ëª…ì„ ëŒ€í•™êµ ì•Œê³ ë¦¬ì¦˜ ê³¼ì •ì—ì„œ ìš´ì´ ë‚˜ì˜ë©´ì¢‹ìœ¼ë©´ ë°°ìš°ì‹¤ ìˆ˜ ìˆê³ , ê·¸ë•ŒëŠ” ì¢€ ë…íŠ¹í•œ ë¶„ì„ë°©ì‹ì¸ ìƒí™˜ ë¶„ì„(amortized-analysis)ì„ ì‚¬ìš©í•˜ëŠ”ë°

ê¸°ë³¸ ì•„ì´ë””ì–´ëŠ” ì–´ë–¤ ì—°ì‚°ì„ í•˜ë©´ ë¯¸ë¦¬ ë¹„ìš©ì„ ì§€ë¶ˆí•´ë‘ê³  ì¶”í›„ ì–´ë–¤ ì¼ì´ ìˆì–´ë„ ì´ ë¹„ìš© ì•ˆì—ì„œ ì†Œë¹„ê°€ ê°€ëŠ¥í•˜ë‹¤ëŠ” ê±¸ ì¦ëª…í•˜ì—¬ ê·¸ ë¹„ìš©ì´ ì‹œê°„ë³µì¡ë„ê°€ ëœë‹¤ê³  ê²°ë¡ ì§“ëŠ” ê²ƒì…ë‹ˆë‹¤.

ëŒ€í‘œì ì¸ ì˜ˆëŠ” ë²¡í„°ì˜ capacityë¥¼ ë§¤ë²ˆ 1ì´ ì•„ë‹ˆë¼ 2ë°°ë¡œ ëŠ˜ë¦¬ë©´ ì‹œê°„ë³µì¡ë„ ì´í•© O(N)ì´ ë¨ì„ ì¦ëª…í•˜ëŠ” ê²ƒ. ê·¸ëƒ¥ 1ì”© ëŠ˜ë¦¬ë©´ ì´í•© O(N^2)ë¡œ ì••ë„ì ì¸ ì°¨ì´ê°€ ìˆìŠµë‹ˆë‹¤.


union ì—°ì‚°ì€ ë‘ ì§‘í•©ì„ í•˜ë‚˜ë¡œ í•©ì³ì¤€ë‹¤.
í•©ì¹  ë‘ ì§‘í•©ì´ ê°™ì€ê±´ì§€ í™•ì¸í•˜ê³  ê°™ë‹¤ë©´ ê·¸ëƒ¥ ì¢…ë£Œí•œë‹¤. ë‹¤ë¥´ë‹¤ë©´, ë‘˜ ì¤‘í•˜ë‚˜ì˜ ë£¨íŠ¸ë¥¼ ë‹¤ë¥¸ í•˜ë‚˜ì˜ ë£¨íŠ¸ì˜ ìì‹ì´ ë˜ê²Œ ì—°ê²°ì‹œí‚¨ë‹¤.

unionì—°ì‚°ì˜ ì‹œê°„ë³µì¡ë„ëŠ” findì—°ì‚°ì´ ì§€ë°°í•œë‹¤.

union by rankë€ ê° ë…¸ë“œë§ˆë‹¤ êµ¬ë¶„ë˜ëŠ” rankê°’ì„ ìƒˆê²¨ë‘” í›„ ë” í° ë­í´ë¥´ ê°€ì§„ ë…¸ë“œê°€ ë°˜ë“œì‹œ ë¶€ëª¨ê°€ ë˜ê²Œ í•©ì¹œë‹¤ë©´ O(log*N)ì˜ ì‹œê°„ë³µì¡ë„ëŠ” ê°–ê²Œëœë‹¤. 

ë”°ë¼ì„œ ìœ ë‹ˆì˜¨ íŒŒì¸ë“œêµ¬ì¡°ì˜ ì‹œê°„ë³µì¡ë„ë¥¼ N, ì—°ì‚°ìˆ˜ë¥¼ Mì´ë¼ í•  ë•Œ í•©ì³ì„œ O(Mlog*N)ìœ¼ë¡œ ì·¨ê¸‰í•  ìˆ˜ ìˆê³ , O(M)ì´ë¼ê³  ë´ë„ ë¬´ë°©í•˜ë‹¤.

êµ³ì´ ê²½ë¡œì••ì¶•ì„ í•˜ì§€ ì•Šì•„ë„, unionì—°ì‚°ì—ì„œ ì¼ì •í•œ ê¸°ì¤€ì„ ì„¸ì›Œì„œ íš¨ìœ¨ì ìœ¼ë¡œ í•©ì¹œë‹¤ë©´ findì—°ì‚°ì„ ì–´ëŠì •ë„ ìµœì í™”í•  ìˆ˜ ìˆë‹¤.
ê·¸ ëŒ€í‘œì ì¸ ì˜ˆê°€ ë” í°ìª½ì„ ë£¨íŠ¸ë¡œ ë‘ëŠ” ê²ƒì´ë‹¤. 
ì§‘í•©ì„ í•©ì¹˜ê¸° ì „ìœ¼ë¡œ ëŒë ¤ë†“ëŠ” ì—°ì‚°ì„ êµ¬í˜„í•˜ë ¤ê³  í•˜ëŠ” ê²½ìš° ì´ ë°©ë²•ì„ ë§ì´ ì“´ë‹¤.

ìœ ë‹ˆì˜¨íŒŒì¸ë“œëŠ” ìµœì†ŒìŠ¤íŒ¨ë‹ íŠ¸ë¦¬ë¥¼ êµ¬í•˜ëŠ” í¬ë£¨ìŠ¤ì¹¼ ì•Œê³ ë¦¬ì¦˜ì— í•„ìˆ˜ì ì´ë‹¤.

pë°°ì—´ì˜ ë£¨íŠ¸ê°’ì— ìŒìˆ˜í˜•íƒœë¡œ ì €ì¥í•˜ë©´ ê·¸ ì ˆëŒ“ê°’ì´ ì§‘í•©ì˜ í¬ê¸°ë¥¼ í‘œí˜„í•˜ë„ë¡ í•  ìˆ˜ ìˆë‹¤.

ìœ ë‹ˆì˜¨ë°”ì´ë­í¬ì™€ ê²½ë¡œì••ì¶•ì„ í•´ì¤˜ì•¼ ì‹œê°„ë³µì¡ë„ê°€ ì•„í¬ë§Œí•¨ìˆ˜ê°€ëœë‹¤.




```

### ë¬¸ì œ

* [1717ë²ˆ: ì§‘í•©ì˜ í‘œí˜„](https://www.acmicpc.net/problem/1717)
* [1976ë²ˆ: ì—¬í–‰ ê°€ì](https://www.acmicpc.net/problem/1976)
* [16562ë²ˆ: ì¹œêµ¬ë¹„](https://www.acmicpc.net/problem/16562)
* [4195ë²ˆ: ì¹œêµ¬ ë„¤íŠ¸ì›Œí¬](https://www.acmicpc.net/problem/4195)
* [14868ë²ˆ: ë¬¸ëª… (â˜…)](https://www.acmicpc.net/problem/14868)
* [3197ë²ˆ: ë°±ì¡°ì˜ í˜¸ìˆ˜ (â˜…)](https://www.acmicpc.net/problem/3197)
* [11085ë²ˆ: êµ°ì‚¬ ì´ë™ (â˜…)](https://www.acmicpc.net/problem/11085)
* [9938ë²ˆ: ë°© ì²­ì†Œ (â˜…)](https://www.acmicpc.net/problem/9938)
* [10775ë²ˆ: ê³µí•­ (â˜…)](https://www.acmicpc.net/problem/10775)
* [15459ë²ˆ: Haybale Feast (â˜…)](https://www.acmicpc.net/problem/15459)
* [17398ë²ˆ: í†µì‹ ë§ ë¶„í•  (â˜…)](https://www.acmicpc.net/problem/17398)
* [3780ë²ˆ: Corporative Network (â˜…)](https://www.acmicpc.net/problem/3780)

<!-- 

***

<details>

<summary>

#### _10775ë²ˆ: ê³µí•­ (â˜…)_

</summary>

```cpp

```

</details> 



-->



<details>

<summary>

#### _1717ë²ˆ: ì§‘í•©ì˜ í‘œí˜„_

ìœ íŒŒ ì—°ìŠµë¬¸ì œ

</summary>

```cpp

#include <bits/stdc++.h>
using namespace std;
#define fastio ios_base::sync_with_stdio(false), cin.tie(NULL), cout.tie(NULL)
#define debug freopen("input.txt", "r", stdin), freopen("output.txt", "w", stdout)
#define sz(x) (int)(x).size()
#define all(x) (x).begin(), (x).end()
#define rall(x) (x).rbegin(), (x).rend()
#define o1 first
#define o2 second
#define pii pair<int,int>
// #define int int64_t
/* â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾
    2021.01.23 Sat
    comment: 

â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾*/


int p[1000001];

int find(int a){
    if(p[a] == -1) return a;
    p[a] = find(p[a]);
    return p[a];
}

void union_(int a, int b){
    a = find(a);
    b = find(b);
    if(a == b) return ;
    p[b] = a;
}

void solve(){

    int n,m;
    cin >> n >> m;

    memset(p,-1,sizeof(p));

    for(int i=0; i < m; i++){
        int a,b,c;
        cin >> a >> b >> c;
        if(a==1){
            int j = find(b);
            int k = find(c);
            if(j == k) cout << "yes\n";
            else cout << "no\n";
        }else{
            union_(b,c);
        }

    }


}


int32_t main() {
    int t=1;
    fastio;
    // debug;
    {
        // cin >> t; 
        for(int i=1; i <= t; i++) solve();
    }
}

```

</details> 

***

<details>

<summary>

#### _1976ë²ˆ: ì—¬í–‰ ê°€ì_

ìœ íŒŒ ì—°ìŠµë¬¸ì œ2

</summary>

```cpp

#include <bits/stdc++.h>
using namespace std;
#define fastio ios_base::sync_with_stdio(false), cin.tie(NULL), cout.tie(NULL)
#define debug freopen("input.txt", "r", stdin), freopen("output.txt", "w", stdout)
#define sz(x) (int)(x).size()
#define all(x) (x).begin(), (x).end()
#define rall(x) (x).rbegin(), (x).rend()
#define o1 first
#define o2 second
#define pii pair<int,int>
// #define int int64_t
/* â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾
    2021.01.23 Sat
    comment: 

â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾*/

int p[201];

int find(int a){
    if(p[a] == -1) return a;
    p[a] = find(p[a]);
    return p[a];
}

void union_(int a,int b){
    a = find(a);
    b = find(b);
    if(a== b) return;
    p[b] = a;
}


void solve(){
    int n,m;
    cin >> n >> m;
    memset(p,-1,sizeof(p));
    
    for(int i=0; i < n; i++){
        for(int j=0; j< n; j++){
            int a; cin >> a;
            if(a){
                union_(i,j);
            }
        }
    }

    bool ans = 1;
    int prev;
    for(int i=0; i < m; i++){
        int a; cin >> a ; a--;
        if(i==0) prev = find(a);
        else{
            if(prev != find(a)){
                ans = 0;
            }
        }
    }

    cout << (ans ? "YES" : "NO");

}


int32_t main() {
    int t=1;
    fastio;
    // debug;
    {
        // cin >> t; 
        for(int i=1; i <= t; i++) solve();
    }
}

```

</details> 

***

<details>

<summary>

#### _16562ë²ˆ: ì¹œêµ¬ë¹„_

ë£¨íŠ¸ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ìµœì†Œë¹„ìš©ì„ ì €ì¥í•˜ëŠ” ë°°ì—´ì„ ë§Œë“ ë‹¤.  
ê° ì»´í¬ë„ŒíŠ¸ë§ˆë‹¤  ê°’ì„ ë”í•´ì£¼ë©´ëœìµœì†Œì˜ë‹¤.


</summary>

```cpp

#include <bits/stdc++.h>
using namespace std;
#define fastio ios_base::sync_with_stdio(false), cin.tie(NULL), cout.tie(NULL)
#define debug freopen("input.txt", "r", stdin), freopen("output.txt", "w", stdout)
#define sz(x) (int)(x).size()
#define all(x) (x).begin(), (x).end()
#define rall(x) (x).rbegin(), (x).rend()
#define o1 first
#define o2 second
#define pii pair<int,int>
// #define int int64_t
/* â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾
    2021.01.23 Sat
    comment: 

â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾*/
int cost[10001];
int mincost[10001];
int p[10001];

int find(int a){
    if(p[a] == -1) return a;
    p[a] = find(p[a]);
    return p[a];
}

void union_(int a, int b){
    a = find(a);
    b = find(b);
    if(a == b ) return;
    p[b] = a;
}


void solve(){
    int n,m,k;
    cin >> n>> m >> k;
    memset(p,-1,sizeof(p));
    for(int i=0; i < n; i++){
        cin >> cost[i];
    }

    for(int i=0; i < m; i++){
        int a,b; cin >> a >> b; a--;b--;
        union_(a,b);
    }
    fill(mincost,mincost+10000,1<<30);
    for(int i=0; i < n; i++){
        int temp = find(i);
        mincost[temp] = min({mincost[temp], cost[temp] , cost[i]});
    }

    int ans= 0;

    for(int i=0; i < n; i++){
        if(mincost[i] != 1<<30) ans += mincost[i];
    }

    ( ans > k ? cout << "Oh no" : cout << ans);


}


int32_t main() {
    int t=1;
    fastio;
    // debug;
    {
        // cin >> t; 
        for(int i=1; i <= t; i++) solve();
    }
}

```

</details> 


***

<details>

<summary>

#### _4195ë²ˆ: ì¹œêµ¬ ë„¤íŠ¸ì›Œí¬_

í•´ì‹±+ìœ íŒŒ

</summary>

```cpp

#include <bits/stdc++.h>
using namespace std;
#define fastio ios_base::sync_with_stdio(false), cin.tie(NULL), cout.tie(NULL)
#define debug freopen("input.txt", "r", stdin), freopen("output.txt", "w", stdout)
#define sz(x) (int)(x).size()
#define all(x) (x).begin(), (x).end()
#define rall(x) (x).rbegin(), (x).rend()
#define o1 first
#define o2 second
#define pii pair<int,int>
// #define int int64_t
/* â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾
    2021.01.23 Sat
    comment: 
    í•´ì‹±+ìœ ë‹ˆì˜¨íŒŒì¸ë“œ

â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾*/
unordered_map<string,pair<string,int>> p;

string find(string a){
    if(a == p[a].o1) return a;
    p[a].o1 = find(p[a].o1);
    return p[a].o1;
}

void union_(string a, string b){
    a = find(a);
    b = find(b);
    
    // ë§Œì•½ aì™€ bê°€ ì„œë¡œ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ë©´
    if(a != b){
        // aì˜ ë¶€ëª¨ë¥¼ bë¡œ ì„¤ì •í•œë‹¤.
        p[a].o1 = b;
        // bì˜ ë…¸ë“œê°¯ìˆ˜ê°’ì— aì˜ ë…¸ë“œê°¯ìˆ˜ê°’ì„ ì¶”ê°€í•œë‹¤
        p[b].o2 += p[a].o2;
    }   

    cout << p[b].o2 << '\n';
}




void solve(){

    int T; cin >> T; while(T--){

    int n;
    cin >> n;
    p ={};
    for(int i=0; i < n; i++){
        string a, b;
        cin >> a >> b;

        // ë‹¨ì¼ ë…¸ë“œë©´ ìì‹ ì„ ë¶€ëª¨ë¡œ ê°–ê²Œ mapì— ì§‘ì–´ë„£ëŠ”ë‹¤
        if(p[a].o1 == "")
            p[a] = {a,1};
        if(p[b].o1 == "")
            p[b] = {b,1};
        union_(a,b);
    }

    }

}


int32_t main() {
    int t=1;
    fastio;
    // debug;
    {
        // cin >> t; 
        for(int i=1; i <= t; i++) solve();
    }
}

```

</details> 

***

<details>

<summary>

#### _14868ë²ˆ: ë¬¸ëª… (â˜…)_ ğŸ˜¡ğŸ˜¡

ì–´ë µì§€ë§Œ ì¬ë°ŒëŠ” ë¬¸ì œ
bfs + union find


</summary>

```cpp

#include <bits/stdc++.h>
using namespace std;
#define fastio ios_base::sync_with_stdio(false), cin.tie(NULL), cout.tie(NULL)
#define debug freopen("input.txt", "r", stdin), freopen("output.txt", "w", stdout)
#define sz(x) (int)(x).size()
#define all(x) (x).begin(), (x).end()
#define rall(x) (x).rbegin(), (x).rend()
#define o1 first
#define o2 second
#define pii pair<int,int>
// #define int int64_t
/* â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾
    2021.01.23 Sat
    comment: 
    BFS + UNION FIND
    

â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾*/

// ë°©í–¥
const int roff[4] = {-1,1,0,0};
const int coff[4] = {0,0,1,-1};


// ìœ íŒŒ êµ¬ì¡°ì²´
struct UnionFind{

    // ë¶€ëª¨ë°°ì—´
    int p[100001];
    // ìƒì„±ì: ë¶€ëª¨ë°°ì—´ -1ë¡œ ì´ˆê¸°í™”
    UnionFind(){ fill(p,p+100000, -1);}

    // íŒŒì¸ë“œ
    int f(int a){
        if(p[a] <0 ) return a;
        return p[a] = f(p[a]);
    }
    // ìœ ë‹ˆì˜¨
    // pë°°ì—´ì´ ë£¨íŠ¸ë©´ ìŒìˆ˜ë¡œ ì§‘í•©ì˜ í¬ê¸°ë¥¼ ì €ì¥í•œë‹¤.
    bool u(int a, int b){
        a = f(a);
        b = f(b);
        if(a == b) return false;
        if(p[a] <  p[b]){
            p[a] += p[b];
            p[b] = a;
        }
        else{
            p[b] += p[a];
            p[a] = b;
        }
        return true;
    }
};

// ë§µë°°ì—´
int map_[2001][2001];

void solve(){
    int N,K;
    cin >> N>> K;

    // -1ë¡œ ì´ˆê¸°í™”
    memset(map_,-1,sizeof(map_));
    queue<int> q;
    UnionFind UF;

    for(int i=0; i < K; i++){
        int r,c; cin >> r >> c; r-- ; c --;
        // map[r][c]ë¥¼  0.. k-1 ë²ˆì§¸ë¡œ ì„¤ì •
        map_[r][c] = i;

        // íì— ì¢Œí‘œì •ë³´ë¥¼ ë„£ëŠ”ë‹¤.
        q.push(r*2000 + c);

        // ì´ˆê¸°ë¬¸ëª…ì´ ì¸ì ‘í•´ìˆìœ¼ë©´ ìœ ë‹ˆì˜¨í•´ì¤€ë‹¤.
        for(int d=0; d<4 ;d++){
            int nr = r+ roff[d], nc = c+coff[d];
            if (nr <0 || nc <0 || nr>= N || nc >=N || map_[nr][nc] <0 ) continue;
            UF.u(map_[r][c] , map_[nr][nc]);
        }
    }

    int res =0;

    // bfs
    // ìœ ë‹ˆì˜¨íŒŒì¸ë“œì˜ ì§‘í•©ì˜ í¬ê¸°ê°€ Kê°€ ë ë–„ê¹Œì§€
    for(; UF.p[UF.f(0)] != -K; res++){
        int qs = q.size();
        for(int i=0; i < qs; i++){
            int r = q.front()/2000, c= q.front()%2000; q.pop();
            
            // 4ë°©í–¥íƒìƒ‰
            for(int d= 0; d< 4; d++){
                int nr = r+ roff[d] , nc = c+ coff[d];
                if(nr <0 || nr >= N || nc <0 || nc>= N || map_[nr][nc] >=0) continue;
                map_[nr][nc] = map_[r][c];
                q.push(nr*2000 + nc);
                // ìƒˆë¡œ ë‚˜ì•„ê°„ ìë¦¬ì—ì„œ ë˜ 4ë°©í–¥ ìœ ë‹ˆì˜¨íŒŒì¸ë“œí•´ì¤€ë‹¤.
                for(int dd=0; dd < 4;  dd++){
                    int nnr = nr + roff[dd] ,nnc = nc + coff[dd];
                    if(nnr <0 || nnr >=N || nnc <0 || nnc >=N || map_[nnr][nnc] <0 ) continue;
                    UF.u(map_[nnr][nnc], map_[r][c]);
                }

            }


        }
    }
    cout << res;


}


int32_t main() {
    int t=1;
    fastio;
    // debug;
    {
        // cin >> t; 
        for(int i=1; i <= t; i++) solve();
    }
}



```

</details> 

***

<details>

<summary>

#### _3197ë²ˆ: ë°±ì¡°ì˜ í˜¸ìˆ˜ (â˜…)_ ğŸ˜¡ğŸ˜¡

ìœ„ë¬¸ì œë‘ ë¹„ìŠ·í•˜ì§€ë§Œ ì§‘í•©ì˜ ê°¯ìˆ˜ê°€ ì•„ë‹Œ ê°™ì€ ì§‘í•©ì¸ì§€ë§Œ í™•ì¸í•˜ë©´ ë¨

</summary>

```cpp

#include <bits/stdc++.h>
using namespace std;
#define fastio ios_base::sync_with_stdio(false), cin.tie(NULL), cout.tie(NULL)
#define debug freopen("input.txt", "r", stdin), freopen("output.txt", "w", stdout)
#define sz(x) (int)(x).size()
#define all(x) (x).begin(), (x).end()
#define rall(x) (x).rbegin(), (x).rend()
#define o1 first
#define o2 second
#define pii pair<int,int>
// #define int int64_t
/* â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾
    2021.01.23 Sat
    comment: 
    ìœ íŒŒ/ bfs/ ë¶„ë¦¬ì§‘í•©
    ìœ íŒŒë¡œí’€ì—ˆë‹¤
    4ë²ˆíƒìƒ‰ + 4ë²ˆíƒìƒ‰ì´ ì¤‘ìš”í•œë“¯

â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾*/

char map_[1501][1501];
int map2[1501][1501];


const int off = 1501;
const int roff[4] = {1,-1, 0, 0};
const int coff[4] = {0, 0, 1,-1};

struct unionFind{
    int p[1000000];
    unionFind(){

        for(int i=0; i < 1000000; i++){
            p[i] =i;
        }

    }

    int f(int a){
        if(p[a] == a ) return a;
        return p[a] = f(p[a]);
    }

    void u(int a, int b){
        a = f(a);
        b = f(b);
        if( a== b ) return;
        // if(p[a] > p[b]){
        p[b] = a;
        // }else{
        // }
    }

};

void solve(){

    int n,m,sr=-1,sc,er,ec;
    cin >> n>> m;

    unionFind uf;
    queue<int> q;

    int z=1;
    for(int i=0; i< n; i++){
        for(int j=0; j < m; j++){
            cin >> map_[i][j];
            if(map_[i][j] == 'X') continue;
            map2[i][j] = z++;
            if(map_[i][j] == '.'){
                q.push(i*off + j);
            }
            if(map_[i][j] == 'L'){
                map_[i][j] = '.';
                q.push(i*off + j);
                if(sr == -1){
                    sr= i;
                    sc= j;
                }else{
                    er =i;
                    ec =j;
                }
            }

        }
    }

    for(int i=0; i < n; i++){
        for(int j=0; j < m; j++){
            if(map_[i][j] == '.')
                for(int d =0; d < 4; d++){
                    int nr = i + roff[d];
                    int nc = j + coff[d];
                    if(nr <0 || nc <0 || nr>= n || nc >= m || map_[nr][nc] == 'X') continue;
                    // cout << nr <<  "  " << nc << " " << map_[nr][nc] << "\n";
                    uf.u(map2[i][j], map2[nr][nc]);
                }
        }

    }

    int res =0;

//uf.f(map2[sr][sc]) == uf.f(map2[er][ec])
        // cout << uf.f(map2[sr][sc]) << " " <<  uf.f(map2[er][ec]);
    for(;uf.f(map2[sr][sc]) != uf.f(map2[er][ec]);res++){
        int qs = q.size();

        for(int i=0; i < qs; i++){
            int r = q.front() / off;
            int c = q.front() % off;

            q.pop();
            for(int d= 0; d < 4; d++){
                int nr = r + roff[d];
                int nc = c + coff[d];
                if(nr <0 || nc <0 || nr >= n|| nc >= m || map_[nr][nc] != 'X') continue;
                q.push(nr*off + nc);
                map_[nr][nc] = '.';
                map2[nr][nc] = map2[r][c];

                for(int dd= 0; dd < 4; dd++){
                    int nnr = nr + roff[dd], nnc = nc + coff[dd];
                    if(nnr <0 || nnc <0 || nnr >= n || nnc >=m || map_[nnr][nnc] == 'X') continue;
                    uf.u(map2[nr][nc] , map2[nnr][nnc]);
                }
            }

        }

    }

    cout << res;
}


int32_t main() {
    int t=1;
    fastio;
    // debug;
    {
        // cin >> t; 
        for(int i=1; i <= t; i++) solve();
    }
}



```

</details> 

***

<details>

<summary>

#### _11085ë²ˆ: êµ°ì‚¬ ì´ë™ (â˜…)_ ğŸ˜¡

ê°„ì„ ì„ ì •ë ¬ì‹œí‚¤ê³  ë„ˆë¹„ê°€ ë„“ì€ê±°ë¶€í„° ufí•´ê°„ë‹¤.  
ì‹œì‘ì ê³¼ ëì ì´ ê°™ì€ì§‘í•©ì— ì†í•´ì ¸ìˆìœ¼ë©´ ì¢…ë£Œ  

</summary>

```cpp

#include <bits/stdc++.h>
using namespace std;
#define fastio ios_base::sync_with_stdio(false), cin.tie(NULL), cout.tie(NULL)
#define debug freopen("input.txt", "r", stdin), freopen("output.txt", "w", stdout)
#define sz(x) (int)(x).size()
#define all(x) (x).begin(), (x).end()
#define rall(x) (x).rbegin(), (x).rend()
#define o1 first
#define o2 second
#define pii pair<int,int>
// #define int int64_t
/* â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾
    2021.01.23 Sat
    comment: 

    ìœ ë‹ˆì˜¨íŒŒì¸ë“œ / í¬ë£¨ìŠ¤ì¹¼
    
    ê°„ì„ ì„ í¬ê¸°ìˆœìœ¼ë¡œ ì •ë ¬, ì°¨ë¡€ëŒ€ë¡œ ìœ ë‹ˆì˜¨íŒŒì¸ë“œ ì§„í–‰

    4 5 50  4,5
    5 6 42  4,5,6
    1 3 27  4,5,6/ 1,3
    0 2 23  4,5,6/ 1,3 / 0,2
    2 6 21  4,5,6,2,0/ 1,3
    1 2 16  4,5,6,2,0,1,3  -> ì‹œì‘ì (3) ê³¼ ëì (5)ê°€ ê°™ì€ ì§‘í•©ì— ì†í•˜ë¯€ë¡œ ì¢…ë£Œ
    0 1 15
    3 4 14
    3 5 10
    4 6 9
    2 4 3

â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾*/

struct edges{
    int u,v,cost;
};

struct unionFind{
    int p[1001];
    unionFind(){ 
        for(int i=0; i < 1001; i++)
            p[i] = i;
    }

    int find(int a){
        if(p[a] == a) return a;
        return p[a] = find(p[a]);
    }

    void union_(int a, int b){
        a = find(a);
        b = find(b);

        if(a==b) return;
        
        p[b] = a;
    }
};

bool cmp(edges a, edges b){
    return a.cost > b.cost;
}


void solve(){
    int p,w,c,v;
    cin >> p >> w >> c >> v;

    vector<edges> vec;
    for(int i=0; i< w; i++){
        edges E;
        cin >> E.u >> E.v >> E.cost;
        vec.push_back(E);
    }

    unionFind uf;

    sort(all(vec),cmp);

    for(auto edge : vec){
        uf.union_(edge.u,edge.v);
        // cout << uf.find(c) << " " << uf.find(v) << '\n';
        if(uf.find(c) == uf.find(v)){
            cout << edge.cost;
            break;
        }    
    }






}


int32_t main() {
    int t=1;
    fastio;
    // debug;
    {
        // cin >> t; 
        for(int i=1; i <= t; i++) solve();
    }
}

```

</details> 

***

<details>

<summary>

#### _9938ë²ˆ: ë°© ì²­ì†Œ (â˜…)_ ğŸ˜¡ğŸ˜¡ğŸ˜¡ğŸ˜¡

ë„˜ì–´ë µë‹¹

</summary>

```cpp

#include <bits/stdc++.h>
using namespace std;
#define fastio ios_base::sync_with_stdio(false), cin.tie(NULL), cout.tie(NULL)
#define debug freopen("input.txt", "r", stdin), freopen("output.txt", "w", stdout)
#define sz(x) (int)(x).size()
#define all(x) (x).begin(), (x).end()
#define rall(x) (x).rbegin(), (x).rend()
#define o1 first
#define o2 second
#define pii pair<int,int>
// #define int int64_t
/* â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾
    2021.01.23 Sat
    comment: 
    ìœ ë‹ˆì˜¨íŒŒì¸ë“œ
    

â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾*/

int p[300000];
bool filled[300000];
struct unionFind{

    int find(int a){
        if(p[a] <0 ) return a;
        return p[a] = find(p[a]);
    }
    void union_(int a, int b){
        a = find(a);
        b = find(b);
        if(a == b) return;
        p[a] = b;
    }
};


void solve(){
    int N,L;
    cin >> N >> L;
    memset(p,-1,sizeof(p));
    unionFind UF;
    for(int i=0; i < N; i++){
        int A,B; cin >> A >> B; A--; B--;
        if(!filled[A]){
            cout << "LADICA\n";
            filled[A] = true;
            UF.union_(A,B);
        }else if( !filled[B]){
            cout << "LADICA\n";
            filled[B] = true;
            UF.union_(B,A);
        }else if(!filled[UF.find(A)]){
            cout << "LADICA\n";
            filled[p[A]] = true;
            UF.union_(A,B);
        }else if(!filled[UF.find(B)]){
            cout << "LADICA\n";
            filled[p[B]] = true;
            UF.union_(B,A);
        }else{
            cout << "SMECE\n";
        }


    }


}


int32_t main() {
    int t=1;
    fastio;
    // debug;
    {
        // cin >> t; 
        for(int i=1; i <= t; i++) solve();
    }
}

```

</details> 

***

<details>

<summary>

#### _10775ë²ˆ: ê³µí•­ (â˜…)_

ê·¸ë¦¬ë”” + ìœ íŒŒ ëŠë‚Œ  
ìƒˆë¡œìš´ ë…¸ë“œê°€ ë“¤ì–´ì˜¤ë©´ ê·¸ ë…¸ë“œì˜ ë£¨íŠ¸ì™€ ë£¨íŠ¸-1ì„ ìœ ë‹ˆì˜¨ì‹œì¼œì¤€ë‹¤.  
ë§Œì•½ ìƒˆë¡œë“¤ì–´ì˜¨ ë…¸ë“œì˜ ë£¨íŠ¸ê°€ 0ì´ë©´ ë”ì´ìƒ ìë¦¬ê°€ ì—†ë‹¤ëŠ” ëœ»  

</summary>

```cpp
#include <bits/stdc++.h>
using namespace std;
#define fastio ios_base::sync_with_stdio(false), cin.tie(NULL), cout.tie(NULL)
#define debug freopen("input.txt", "r", stdin), freopen("output.txt", "w", stdout)
#define sz(x) (int)(x).size()
#define all(x) (x).begin(), (x).end()
#define rall(x) (x).rbegin(), (x).rend()
#define o1 first
#define o2 second
#define pii pair<int,int>
// #define int int64_t
/* â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾
    2021.01.23 Sat
    comment: 
    g,g-1,g-2... 1,0ê¹Œì§€ ìœ ë‹ˆì˜¨ì‹œì¼œì¤€ë‹¤.
    ìƒˆë¡œë“¤ì–´ì˜¨ ë…¸ë“œì˜ ë£¨íŠ¸ê°€ 0ì´ë©´ ë”ì´ìƒ ìë¦¬ê°€ ì—†ë‹¤.
    

â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾*/

int p[100001];

struct unionFind{
    int find(int a){
        if(p[a] < 0 ) return a;
        return p[a] = find(p[a]);
    }

    void union_(int a,int b){
        a = find(a);
        b = find(b);
        if(a == b) return;
        p[b] = a;
    }
};



void solve(){
    int G,P;
    cin >> G >> P;
    unionFind UF;
    memset(p,-1,sizeof(p));
    vector<int> v(P);
    int ans=0;
    for (int i=0; i < P ;i++){
        cin >> v[i];
    }

    for(int i=0; i < P; i++){
        int root = UF.find(v[i]);
        // ìƒˆë¡œìš´ ë…¸ë“œì˜ ë£¨íŠ¸ê°€ 0ì´ë¼ë©´ ìë¦¬ê°€ ê½‰ì°¼ë‹¤.
        if(root == 0 ) break;
        // ì•„ë‹ˆë¼ë©´ ê·¸ ë£¨íŠ¸ì™€ ë£¨íŠ¸-1ì™€ ìœ ë‹ˆì˜¨í•´ì¤€ë‹¤.
        ans++;
        UF.union_(root-1, root);
    }
    cout << ans;

}


int32_t main() {
    int t=1;
    fastio;
    // debug;
    {
        // cin >> t; 
        for(int i=1; i <= t; i++) solve();
    }
}

```

</details> 
