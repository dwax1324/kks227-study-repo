# ì´ì¤‘ ì—°ê²° ìš”ì†Œ(Biconnected Component)

https://blog.naver.com/PostView.nhn?blogId=kks227&logNo=220802704686&parentCategoryNo=&categoryNo=299&viewDate=&isShowPopularPosts=false&from=postView


### ì´ë¡ 

```

SCCì™€ ê±°ì˜ ìœ ì‚¬í•˜ë©´ì„œ ë¬´í–¥ê·¸ë˜í”„ì— ì ìš©ë˜ëŠ” ê°œë…ì¸
ì´ì¤‘ì—°ê²°ìš”ì†Œ(Biconnected Component)ì— ëŒ€í•´ ë‹¤ë¤„ë³´ì

ì´ì¤‘ì—°ê²°ìš”ì†ŒëŠ” ê·¸ë˜í”„ë¥¼ ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ë¡œ ë¶„ë¦¬í•œ ê²ƒì¸ë°,
SCCë•Œì™€ ë‹¬ë¦¬ ê°„ì„ ë“¤ë¼ë¦¬ ë¬¶ì–´ì„œ ë¶„ë¥˜í•œë‹¤.
í•œ ì •ì ì´ ì—¬ëŸ¬ BCCì•ˆì— ìˆì„ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤

BCCì˜ ì •ì˜ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.
ì–´ë–¤ BCCì•ˆì— ì†í•œ ì •ì  í•œê°œë¥¼ ì§€ì›Œë„(ì´ ë•Œ ì¸ì ‘í•œ ê°„ì„ ë“¤ë„ ëª¨ë‘ ì‚¬ë¼ì§),
BCCë‚´ì˜ ë‹¤ë¥¸ ë‚¨ì•„ìˆëŠ” ì •ì ë“¤ì´ ëª¨ë‘ ì—°ê²°ë˜ì–´ìˆë‹¤.
SCCì˜ ì •ì˜ì— ë“±ì¥í•˜ëŠ” ë„ë‹¬ê°€ëŠ¥ì„±ì´ë€ ê°œë…ì´ ê±°ì˜ ê·¸ëŒ€ë¡œ ì ìš©ë˜ì–´ìˆë‹¤.
ë¬¼ë¡ , BCCë˜í•œ maximalí•œ ì„±ì§ˆì„ ê°–ëŠ”ë‹¤.





```

```cpp

#include <cstdio>
#include <vector>
#include <stack>
#include <queue>
#include <utility>
#include <algorithm>
using namespace std;
 
const int MAX = 100000;
typedef pair<int, int> P;
 
int V, E, dcnt, dfsn[MAX];
vector<int> adj[MAX];
stack<P> S;
vector<vector<P>> bcc;
 
int DFS(int curr, int prev = -1){
    // ì´ ì •ì ì— dfsn ë¶€ì—¬
    // resultëŠ” DFS íŠ¸ë¦¬ìƒì—ì„œ íŠ¸ë¦¬, ì—­ë°©í–¥ ê°„ì„ ìœ¼ë¡œ ë„ë‹¬ ê°€ëŠ¥í•œ ìµœì†Œì˜ dfsn
    int result = dfsn[curr] = ++dcnt;
 
    // ì¸ì ‘í•œ ì •ì  ìˆœíšŒ
    for(int next: adj[curr]){
        // DFS íŠ¸ë¦¬ìƒì—ì„œ ìì‹ ì˜ ë¶€ëª¨ë©´ ìŠ¤í‚µ
        if(next == prev) continue;
 
        // ì•„ì§ ë°©ë¬¸í•˜ì§€ ì•Šì€ ê°„ì„ ì´ë©´ ìŠ¤íƒì— ê°„ì„  (curr, next)ì„ ë„£ìŒ
        if(dfsn[curr] > dfsn[next]) S.push(P(curr, next));
        // ì—­ë°©í–¥ ê°„ì„ 
        if(dfsn[next] > 0) result = min(result, dfsn[next]);
        // íŠ¸ë¦¬ ê°„ì„ 
        else{
            // DFSë¡œ ì´ì–´ì„œ íƒìƒ‰
            int temp = DFS(next, curr);
            result = min(result, temp);
            // nextê°€ DFS íŠ¸ë¦¬ìƒì—ì„œ currì˜ ì¡°ìƒ ë…¸ë“œë¡œ ê°ˆ ìˆ˜ ì—†ìŒ: ìƒˆ BCC ë°œê²¬
            if(temp >= dfsn[curr]){
                // ì—¬íƒœ ìŠ¤íƒì— ìŒ“ì—¬ìˆë˜ ê°„ì„ ì„ ë¹¼ì„œ BCC êµ¬ì„±
                // ì´ë•Œ, ê°„ì„  (curr, next)ê¹Œì§€ë§Œ ë¹¼ë‚´ì•¼ í•¨
                vector<P> currBCC;
                while(!S.empty() && S.top() != P(curr, next)){
                    currBCC.push_back(S.top());
                    S.pop();
                }
                currBCC.push_back(S.top());
                S.pop();
                bcc.push_back(currBCC);
            }
        }
    }
 
    // ìµœì†Œ ë„ë‹¬ ê°€ëŠ¥ dfsnì„ ë¦¬í„´
    return result;
}
 
int main(){
    // ê·¸ë˜í”„ ì…ë ¥ë°›ê¸°
    scanf("%d %d", &V, &E);
    for(int i = 0; i < E; ++i){
        int u, v;
        scanf("%d %d", &u, &v);
        --u; --v;
        adj[u].push_back(v);
        adj[v].push_back(u);
    }
 
    // DFS ì‹œë„í•˜ë©° BCCë³„ë¡œ ë¶„ë¦¬
    for(int i = 0; i < V; ++i)
        if(dfsn[i] == 0) DFS(i);
 
    // BCCì˜ ê°œìˆ˜
    printf("%d\n", bcc.size());
    // ê° BCCì— ì†í•˜ëŠ” ê°„ì„  ëª©ë¡ ì¶œë ¥
    for(auto &c: bcc){
        for(auto &p: c)
            printf("(%d, %d) ", p.first+1, p.second+1);
        puts("");
    }
}



```




### ë¬¸ì œ



<!-- 

***

<details>

<summary>

#### _6672ë²ˆ: Electricity_

</summary>

```cpp

```

</details> 


-->

[11266ë²ˆ: ë‹¨ì ˆì ](https://www.acmicpc.net/problem/11266)  
[11400ë²ˆ: ë‹¨ì ˆì„ ](https://www.acmicpc.net/problem/11400)  
[6672ë²ˆ: Electricity](https://www.acmicpc.net/problem/6672)  
[10891ë²ˆ: Cactus? Not cactus?](https://www.acmicpc.net/problem/10891)  
[3748ë²ˆ: Lucky cities (â˜…)](https://www.acmicpc.net/problem/3748)  
[4222ë²ˆ: Mining Your Own Business (â˜…)](https://www.acmicpc.net/problem/4222)  


***

<details>

<summary>

#### _11266ë²ˆ: ë‹¨ì ˆì _

BCC ê¸°ë³¸ë¬¸ì œ

</summary>

```cpp

#include <bits/stdc++.h>
using namespace std;
#define fastio ios_base::sync_with_stdio(false), cin.tie(NULL), cout.tie(NULL)
#define debug freopen("input.txt", "r", stdin), freopen("output.txt", "w", stdout)
#define sz(x) (int)(x).size()
#define all(x) (x).begin(), (x).end()
#define rall(x) (x).rbegin(), (x).rend()
typedef tuple<int,int> tii;
typedef tuple<int,int,int> tiii;
// #define int int64_t
/* â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾
    2021.01.27 Wed
    comment: 

    BCC, ë‹¨ì ˆì 
    

â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾*/

const int MAX =10001;
int V,E,cnt,root,dfsn[MAX];
vector<int>adj[MAX];
set<int>cut;

int DFS(int curr){
    // ê° bccì— ë²ˆí˜¸ë¶€ì—¬
    int res = dfsn[curr] = ++cnt, child =0;
    // ì¸ì ‘í•œ ë…¸ë“œë§ˆë‹¤
    for(int next : adj[curr]){
        // ë§Œì•½ ë°©ë¬¸í–ˆë˜ ê³³ì´ë©´
        // dfsn[next]ì™€ ì‘ì€ê°’ì¤‘ resë¥¼ ê°±ì‹ 
        if(dfsn[next] !=0) res = min(res,dfsn[next]);
        else{
            // ë°©ë¬¸ì„ ì•ˆí•œ ê³³ì´ë¼ë©´
            // ë‹¤ìŒ ë…¸ë“œë¥¼ DFSëŒë¦¬ê³  resê°’ì„ ê°±ì‹ ì‹œí‚¨ë‹¤.
            int temp = DFS(next);
            res = min(res,temp);
            //  ë§Œì•½ í˜„ì¬ê°€ ë£¨íŠ¸ê°€ ì•„ë‹ˆê³ 
            //  DFSì˜ ê²°ê³¼ê°’ì´ í˜„ì¬ì˜ dfsnìˆ˜ë³´ë‹¤ í¬ê±°ë‚˜ ê°™ìœ¼ë©´
            // í˜„ì¬ ë…¸ë“œëŠ” ë‹¨ì ˆì ì´ë‹¤.
            if(curr != root && temp >= dfsn[curr]) cut.insert(curr);
            child++;
        }
    }
    // ë§Œì•½ í˜„ì¬ ë…¸ë“œê°€ ë£¨íŠ¸ì´ë©´ì„œ ìì‹ì´ ë‘ëª…ì´ìƒì´ë©´
    // í˜„ì¬ ë…¸ë“œëŠ” ë‹¨ì ˆì ì´ë‹¤.
    if(curr == root && child > 1) cut.insert(curr);
    return res;
}



void solve(){
    cin >> V >>E;
    // ë¬´í–¥ê·¸ë˜í”„ë‹¤
    for(int i=0; i < E; i++){
        int u,v; cin >> u >> v; u--;v--;
        adj[u].push_back(v);
        adj[v].push_back(u);
    }

    // ë°©ë¬¸í•˜ì§€ ì•Šì€ ë…¸ë“œë¼ë©´ rootë¥¼ ìê¸°ë¡œ ì„¤ì •í•œí›„
    // dfsë¥¼ ëŒë ¤ì¤€ë‹¤
    for(int i=0; i < V;i++){
        if(dfsn[i] == 0){
            root =i;
            DFS(i);
        }
    }
    cout << cut.size() << '\n';
    for(int x : cut) cout << x +1 << '\n';


}


int32_t main() {
    int t=1;
    fastio;
    // debug;
    {
        // cin >> t; 
        for(int i=1; i <= t; i++) solve();
    }
}

```

</details> 

***

<details>

<summary>

#### _11400ë²ˆ: ë‹¨ì ˆì„ _ 

BCC ê¸°ë³¸ë¬¸ì œ 2 

</summary>

```cpp

#include <bits/stdc++.h>
using namespace std;
#define fastio ios_base::sync_with_stdio(false), cin.tie(NULL), cout.tie(NULL)
#define debug freopen("input.txt", "r", stdin), freopen("output.txt", "w", stdout)
#define sz(x) (int)(x).size()
#define all(x) (x).begin(), (x).end()
#define rall(x) (x).rbegin(), (x).rend()
typedef pair<int,int> pii;
typedef tuple<int,int,int> tiii;
// #define int int64_t
/* â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾
    2021.01.27 Wed
    comment: 
    

â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾*/

const int MAX=100001;
int V,E,cnt,dfsn[MAX];
vector<int>adj[MAX];
set<pii> cut;

int DFS(int curr, int prev){

    // resì— dfnsë²ˆí˜¸ë¥¼ ë„£ëŠ”ë‹¤, child=0ìœ¼ë¡œ ì´ˆê¸°í™”
    int res = dfsn[curr] = ++cnt, child=0;

    // í˜„ì¬ë…¸ë“œì˜ ì¸ì ‘í•œ ì •ì ì—ì„œ
    for(auto next : adj[curr]){
        if(next == prev) continue;
        // ë‹¤ìŒ ë…¸ë“œê°€ ë°©ë¬¸ë˜ì—ˆì„ë•ŒëŠ”
        // min(res,dfsn) 
        if(dfsn[next] != 0) res = min(res,dfsn[next]);
        else{
            // ë°©ë¬¸í•˜ì§€ ì•Šì•˜ì„ ë•ŒëŠ”
            // ë‹¤ìŒ dfsë¥¼ ëŒë ¤ì¤€ë‹¤
            int temp = DFS(next,curr);
            // ê²°ê´ê°’ì„ ì €ì¥í•˜ê³ 
            res = min(res,temp);
            // ê·¸ ê²°ê´ê°’ì´ í˜„ì¬ dfsnê°’ë³´ë‹¤ í¬ë‹¤ë©´
            // ë‹¨ì ˆì„ ì´ë‹¤.
            if(temp > dfsn[curr]){
                // ë§Œì•½ ë‹¤ìŒì •ì ì˜ dfsnë²ˆí˜¸ê°€ í˜„ì¬ë³´ë‹¤ í¬ë‹¤ë©´
                // u->v
                if(curr < next) cut.insert({curr,next});
                // ê·¸ê²Œ ì•„ë‹ˆë©´ v->u
                else cut.insert({next,curr});
            }
            // ìì‹ìˆ˜ ì¦ê°€
            child++;
        }
    }
    return res;

}

void solve(){
    cin >> V >> E;
    for(int i =0; i < E; i++){
        int u,v; cin >> u >> v; u--;v--;
        adj[u].push_back(v);
        adj[v].push_back(u);
    }
    DFS(0,-1);
    cout << cut.size() << '\n';
    for(auto edge : cut)
        cout << edge.first +1 << " " << edge.second+1 << '\n';

}


int32_t main() {
    int t=1;
    fastio;
    // debug;
    {
        // cin >> t; 
        for(int i=1; i <= t; i++) solve();
    }
}

```

</details>

***

<details>

<summary>

#### _6672ë²ˆ: Electricity_ ğŸ˜¡ğŸ˜¡ğŸ˜¡ğŸ˜¡

ì •ì‹ ì´ ì•„ë“í•˜ë‹¤.  
ë‹¤ì‹œí’€ì–´ë³´ê¸°

</summary>

```cpp

#include <bits/stdc++.h>
using namespace std;
#define fastio ios_base::sync_with_stdio(false), cin.tie(NULL), cout.tie(NULL)
#define debug freopen("input.txt", "r", stdin), freopen("output.txt", "w", stdout)
#define sz(x) (int)(x).size()
#define all(x) (x).begin(), (x).end()
#define rall(x) (x).rbegin(), (x).rend()
typedef pair<int,int> pii;
typedef tuple<int,int,int> tiii;
// #define int int64_t
/* â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾
    2021.01.27 Wed
    comment: 
    

â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾ â½â½â—( Ë™ ê’³ Ë™ )â—œâ¾â¾*/

const int MAX= 100001;
int N,M,dfsn[MAX],cnt,root,ans;
vector<int> adj[MAX];

int dfs(int curr){

    int ret = dfsn[curr] = ++cnt, child =0, cpn=0;
    for(auto next : adj[curr]){
        if(dfsn[next] != 0) ret = min(ret, dfsn[next]);
        else{
            int temp = dfs(next);
            ret = min(ret,temp);
            if(root != curr && temp >= dfsn[curr]) cpn++;
            child++;
        }
    }
    if(root != curr) ans = max(ans,cpn);
    else ans = max(ans,child-1);
    return ret;
}


void solve(){
    while(1){
    memset(dfsn,0,sizeof(dfsn));
    memset(adj,0,sizeof(adj));
    cin >> N>> M;
    if(!N && !M) break;
    for(int i=0; i < M ;i++){
        int u,v; cin>> u >> v;
        adj[u].push_back(v);
        adj[v].push_back(u);
    }
    ans=-1;
    int cpn=0;
    for(int i=0; i <N ;i++){
        if(dfsn[i] == 0){
            root =i;
            cpn++;            
            dfs(i);
        }
    }
    cout << ans+cpn << '\n';
    }
}



int32_t main() {
    int t=1;
    fastio;
    // debug;
    {
        // cin >> t; 
        for(int i=1; i <= t; i++) solve();
    }
}

```